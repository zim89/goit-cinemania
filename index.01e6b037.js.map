{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-8d858496089998c1.js","src/index.js","src/js/partials/trends.js","src/js/markup/trendsMarkup.js","src/js/partials/upcoming.js","src/js/markup/upcomingMarkup.js","node_modules/@parcel/runtime-js/lib/runtime-e8a55ee61de1a6e5.js","node_modules/@parcel/runtime-js/lib/runtime-df0ae883d5657a00.js","node_modules/@parcel/runtime-js/lib/runtime-b67a3a4891d6a11e.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"EVgbq\\\":\\\"index.01e6b037.js\\\",\\\"4I7J6\\\":\\\"default-movie-img@2x.632a332c.png\\\",\\\"i4IEG\\\":\\\"default-movie-img@2x.7db60484.png\\\",\\\"8HIIH\\\":\\\"default-movie-img@2x.2bd481c5.png\\\",\\\"5UbS1\\\":\\\"catalog.bc6dabe6.css\\\",\\\"hBuIx\\\":\\\"library.138aefb6.js\\\"}\"));","import './js/utils/active-page';\nimport './js/utils/go-top-btn';\nimport './js/utils/mobile-menu';\n// import './js/utils/theme-switcher';\n\nimport './js/partials/hero';\nimport './js/partials/trends';\nimport './js/partials/upcoming';\n","import { Loading } from 'notiflix/build/notiflix-loading-aio';\n\nimport { fetchTrendingMoviesByWeek } from '../services/fetch-api';\nimport { trendsMarkup } from '../markup/trendsMarkup';\nimport { openMovieInfoModal } from '../utils/modal.js';\nimport { refs } from '../refs.js';\n\nexport const renderTrendingMoviesByWeek = async () => {\n  try {\n    Loading.standard('Loading...', {\n      className: 'hero-loading',\n      backgroundColor: 'rgba(0,0,0,0.8)',\n      svgColor: 'rgb(248, 119, 25)',\n    });\n    const { results } = await fetchTrendingMoviesByWeek();\n    refs.movieList.innerHTML = trendsMarkup(results);\n    refs.movieList.addEventListener('click', handlerMovieListClick);\n  } catch (error) {\n    console.log(`Error in renderTrendingMoviesByWeek: ${error}`);\n    // FIXME: add default cards\n  } finally {\n    Loading.remove();\n  }\n};\n\nfunction handlerMovieListClick(e) {\n  const closestId = e.target.closest('[data-movie-id]');\n  if (!closestId) return;\n  const movieId = closestId.dataset.movieId;\n  openMovieInfoModal(movieId);\n}\n\nrenderTrendingMoviesByWeek();\n","import { randomIndex } from '../utils/random-index';\nimport { movieListMarkup } from './movieListMarkup';\n\nexport const trendsMarkup = movies => {\n  let indexList;\n\n  window.innerWidth < 768\n    ? (indexList = randomIndex())\n    : (indexList = randomIndex(3));\n\n  const markup = indexList\n    .map(index => movieListMarkup(movies[index]))\n    .join('');\n\n  return markup;\n};\n","import { Loading } from 'notiflix/build/notiflix-loading-aio';\n\nimport { fetchUpcomingMovies } from '../services/fetch-api';\nimport { upcomingMarkup } from '../markup/upcomingMarkup';\nimport { initAddToLibraryBtn } from '../utils/ad-btn';\nimport { randomIndex } from '../utils/random-index';\nimport { refs } from '../refs.js';\n\nexport const renderUpcomingMovies = async () => {\n  const index = randomIndex()[0];\n\n  try {\n    Loading.standard('Loading...', {\n      backgroundColor: 'rgba(0,0,0,0.8)',\n      svgColor: 'rgb(248, 119, 25)',\n    });\n    const { results } = await fetchUpcomingMovies();\n    refs.upcomingContainer.innerHTML = upcomingMarkup(results[index]);\n    const upcomingBtn = document.querySelector('.upcoming .btn');\n    initAddToLibraryBtn(upcomingBtn);\n  } catch (error) {\n    console.log(`upcomingError: ${error}`);\n  } finally {\n    Loading.remove();\n  }\n};\n\nrenderUpcomingMovies();\n","import { getGenreNames } from '../utils/genre-names';\n\nexport const upcomingMarkup = movie => {\n  const {\n    id,\n    title,\n    original_title,\n    vote_average,\n    vote_count,\n    popularity,\n    overview,\n    genre_ids,\n    poster_path,\n    backdrop_path,\n    release_date,\n  } = movie;\n  let posterUrl;\n\n  const genres = getGenreNames(genre_ids).join(', ');\n\n  window.innerWidth < 768\n    ? (posterUrl = `https://image.tmdb.org/t/p/w500/${poster_path}`)\n    : (posterUrl = `https://image.tmdb.org/t/p/original/${backdrop_path}`);\n\n  if (!poster_path || !backdrop_path) {\n    if (window.innerWidth < 768) {\n      posterUrl = new URL(\n        '/src/images/img/mobile/default-movie-img@2x.png',\n        import.meta.url\n      );\n    }\n\n    if (window.innerWidth >= 768 && window.innerWidth < 1280) {\n      posterUrl = new URL(\n        '/src/images/img/tablet/default-movie-img@2x.png',\n        import.meta.url\n      );\n    }\n\n    if (window.innerWidth >= 1280) {\n      posterUrl = new URL(\n        '/src/images/img/desktop/default-movie-img@2x.png',\n        import.meta.url\n      );\n    }\n  }\n\n  const markup = `\n    <div class=\"upcoming__thumb\">\n      <img class =\"upcoming__image\" src=\"${posterUrl}\" alt=\"${\n    title || original_title\n  }\" />\n    </div>\n\n    <div class=\"upcoming__meta\">\n      <h3 class=\"upcoming__caption\">${title || original_title}</h3>\n      \n      \n      <div class=\"upcoming__ctx\">\n        <ul class=\"upcoming__list\">\n          <li class=\"upcoming__item\">\n            <div class=\"upcoming__desc\">Release date</div>\n            <div class=\"upcoming__date\">${release_date.slice(0, 4)}</div>\n          </li>\n          <li class=\"upcoming__item\">\n            <div class=\"upcoming__desc\">Vote / Votes</div>\n            <div class=\"upcoming__value\">\n              <span class=\"tag\">\n                ${vote_average.toFixed(1)}\n              </span>\n              &nbsp;/&nbsp;\n              <span class=\"tag\">\n                ${vote_count}\n              </span>\n            </div>\n          </li>\n        </ul>\n        <ul class=\"upcoming__list\">\n          <li class=\"upcoming__item\">\n            <div class=\"upcoming__desc\">Popularity</div>\n            <div class=\"upcoming__value\">${popularity.toFixed(1)}</div>\n          </li>\n          <li class=\"upcoming__item\">\n            <div class=\"upcoming__desc\">Genre</div>\n            <div class=\"upcoming__value\">${genres}</div>\n          </li>\n        </ul>\n      </div>\n\n      <div class=\"upcoming__about\">\n        <h3 class=\"upcoming__subtitle\">About</h3>\n        <p class=\"upcoming__text\">${overview}</p>\n      </div>\n\n      <button class=\"btn btn--primary\" data-movie-id=\"${id}\" data-lable=\"upcoming\" type=\"button\">\n        Add to my library\n      </button>\n    </div>`;\n\n  return markup;\n};\n","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"4I7J6\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"i4IEG\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"8HIIH\");"],"names":["parcelRequire","register","JSON","parse","$bpxeT","$kOiWC","$6baad6d794362439$export$c1bd8589e23794f0","movies","window","innerWidth","randomIndex","map","index","$7bc64","movieListMarkup","join","$85bef3a4c56bdc9f$export$39585ff98928de2a","$parcel$interopDefault","$2TvXO","mark","_callee","results","$7rQOT","Loading","standard","className","backgroundColor","svgColor","$1ILcr","fetchTrendingMoviesByWeek","_ctx","sent","$4Nugj","refs","movieList","innerHTML","addEventListener","$85bef3a4c56bdc9f$var$handlerMovieListClick","console","log","concat","t0","remove","e","closestId","target","closest","movieId","dataset","$8quDb","openMovieInfoModal","$87daI","$43c2c27c57f2a23c$exports","getBundleURL","resolve","$3941bd3984bb2ed1$exports","$f47c32636b593146$exports","$ab40d5a3565e84d7$export$d13d1cf316ef3ba9","upcomingBtn","fetchUpcomingMovies","upcomingContainer","movie","posterUrl","id","title","original_title","vote_average","vote_count","popularity","overview","genre_ids","poster_path","backdrop_path","release_date","genres","getGenreNames","URL","slice","toFixed","document","querySelector","$cGvxV","initAddToLibraryBtn"],"version":3,"file":"index.01e6b037.js.map"}